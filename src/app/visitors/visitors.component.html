<h1 class="prepare-test" *ngIf="loaded">{{challengingUser['name']}} 's Challenge</h1>
<hr>
<div *ngIf="initial && loaded; else startQuiz">
  <div *ngIf="challengingUser['verified']; else anyOneReply">
    <p>{{challengingUser['name']}} requested for genuine responses</p>
    <p>so please verfify your identity</p>
    <div class="form-group social-buttons">
      <p>Verify using</p>
      <button class="google" (click)="onSignIn('google')">Google</button>
      <button class="facebook" (click)="onSignIn('facebook')">Facebook</button>
    </div>
  </div>
  <ng-template #anyOneReply>
    <div class="form-group">
      <input type="text" name="name" placeholder="Enter Your Name" #responderName/>
    </div>
    <div class="form-group">
      <button (click)="onSubmitName()">Start</button>
    </div>
  </ng-template>
</div>
<ng-template #startQuiz>
  <div class="container-fluid" *ngIf="loaded && !quizCompleted;">
    <div>{{id+1}} / {{maxtest +1}}</div>
    <div *ngIf="loaded">
      <div class="question-container">
        <p>
          {{Questions[id].question}}
        </p>
      </div>
      <hr />
      <div class="answers-container">
        <div class="funkyradio">
          <div >
            <form id="answerform" [formGroup]="answerForm">
              <div class="funkyradio-primary">
                <input type="radio" formControlName="answer" value="0" id="radio1">
                <label [for]="'radio1'">{{Questions[id].option[0]}} </label>
              </div>
              <div class="funkyradio-primary">
                <input type="radio" formControlName="answer" value="1" id="radio2">
                <label [for]="'radio2'" >{{Questions[id].option[1]}} </label>
              </div>
              <div class="funkyradio-primary">
                <input type="radio" formControlName="answer" value="2" id="radio3">
                <label [for]="'radio3'" >{{Questions[id].option[2]}} </label>
              </div>
              <div class="funkyradio-primary">
                <input type="radio" formControlName="answer" value="3" id="radio4">
                <label [for]="'radio4'" >{{Questions[id].option[3]}} </label>
              </div>
            </form>
          </div>
        </div>
      </div>
      <hr />
      <div class="">
        <button (click)="goToNextQuestion()" class="next-btn">Next</button>
      </div>
    </div>
  </div>
</ng-template>

<div class="container-fluid" *ngIf="quizCompleted">
  <h3>Score {{ score }} / 15</h3>
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title correct-panel-title">
        <a data-toggle="collapse" href="#correctAnswers">Correct</a>
      </h4>
      <h4 class="panel-title wrong-panel-title">
        <a data-toggle="collapse" href="#wrongAnswers">Wrong</a>
      </h4>
    </div>
    <div id="correctAnswers" class="panel-collapse collapse">
      <ul class="list-group" id="correctAnsUl">
      </ul>
    </div>
    <div id="wrongAnswers" class="panel-collapse collapse">
      <ul class="list-group" id="wrongAnsUl">
      </ul>
    </div>
  </div>
</div>
</div>
